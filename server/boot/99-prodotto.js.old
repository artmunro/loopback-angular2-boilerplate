module.exports = function(app, cb) {

    var User = app.models.User;
    var Role = app.models.Role;
    var Fornitore = app.models.Fornitore;
    var RoleMapping = app.models.RoleMapping;
    var Prodotto = app.models.Prodotto;
    var Menu = app.models.Menu;
    var prodotti = [];
    var NPRODOTTI = 32;
    var NPRODOTTI2 = NPRODOTTI * 2;
    var NCATEGORIE = 9;
    var DELIMITER = 100;
    var NCATEGORIE2 = 8;
    var i;
    var j;

    for (i = 1, j = 0; i < NPRODOTTI; i++, j = ++j % NCATEGORIE) {
        prodotti.push({
            nome: 'prodotto #' + i,
            descrizione: 'descrizione di test #' + i,
            categoria: j,
            abilitato: true,
        });
    }

    for (j = 0; i < NPRODOTTI2; i++, j = ++j % NCATEGORIE2) {
        prodotti.push({
            nome: 'prodotto #' + i,
            descrizione: 'descrizione di test #' + i,
            categoria: j + DELIMITER,
            abilitato: true,
        });
    }

    var menu1 = [{
        fornitoreId: 1,
        userfornitoreId: 3,
        prodottoId: 1,
        prezzo: 2,
        sovrapprezzo: 0.50,
    }, {
        fornitoreId: 1,
        userfornitoreId: 3,
        prodottoId: 3,
        prezzo: 3.5,
    }, {
        fornitoreId: 1,
        userfornitoreId: 3,
        prodottoId: 4,
        prezzo: 2.5,
    }, {
        fornitoreId: 1,
        userfornitoreId: 3,
        prodottoId: 5,
        prezzo: 2.5,
    }, {
        fornitoreId: 1,
        userfornitoreId: 3,
        prodottoId: 6,
        prezzo: 2.5,
    }, {
        fornitoreId: 1,
        userfornitoreId: 3,
        prodottoId: 7,
        prezzo: 2.5,
    }, {
        fornitoreId: 1,
        userfornitoreId: 3,
        prodottoId: 8,
        prezzo: 2.5,
    }, {
        fornitoreId: 1,
        userfornitoreId: 3,
        prodottoId: 9,
        prezzo: 2.5,
    }, {
        fornitoreId: 1,
        userfornitoreId: 3,
        prodottoId: 10,
        prezzo: 2.5,
        sovrapprezzo: 0,
    }, {
        fornitoreId: 1,
        userfornitoreId: 3,
        prodottoId: 11,
        prezzo: 2.5,
    }, {
        fornitoreId: 1,
        userfornitoreId: 3,
        prodottoId: 12,
        prezzo: 2.5,
    },];

    var menu2 = [{
        fornitoreId: 3,
        userfornitoreId: 4,
        prodottoId: 33,
        prezzo: 2,
        sovrapprezzo: 0.50,
    }, {
        fornitoreId: 3,
        userfornitoreId: 4,
        prodottoId: 34,
        prezzo: 3.5,
    }, {
        fornitoreId: 3,
        userfornitoreId: 4,
        prodottoId: 35,
        prezzo: 2.5,
    }, {
        fornitoreId: 3,
        userfornitoreId: 4,
        prodottoId: 36,
        prezzo: 2.5,
    }, {
        fornitoreId: 3,
        userfornitoreId: 4,
        prodottoId: 37,
        prezzo: 2.5,
    }, {
        fornitoreId: 3,
        userfornitoreId: 4,
        prodottoId: 38,
        prezzo: 2.5,
    }, {
        fornitoreId: 3,
        userfornitoreId: 4,
        prodottoId: 39,
        prezzo: 2.5,
    }, {
        fornitoreId: 3,
        userfornitoreId: 4,
        prodottoId: 40,
        prezzo: 2.5,
    }, {
        fornitoreId: 3,
        userfornitoreId: 4,
        prodottoId: 41,
        prezzo: 2.5,
        sovrapprezzo: 0,
    }, {
        fornitoreId: 3,
        userfornitoreId: 4,
        prodottoId: 42,
        prezzo: 2.5,
    }, {
        fornitoreId: 3,
        userfornitoreId: 4,
        prodottoId: 43,
        prezzo: 2.5,
    },];

    Prodotto.create(prodotti, function(err, prodotto) {
        if (err)
            cb(err);
        console.log('99-prodotti: ', prodotto);
        Menu.create([menu1, menu2,], function(err, menu) {
            if (err)
                cb(err);
            console.log('99-prodotti: ', menu);
            cb();
        });
    });
};
